<odoo>
    <!--    监控程序-->
    <record id="fo_trading_trading_cron" model="ir.cron">
        <field name="name">手动交易实时监控</field>
        <field name="model_id" ref="fo_trading.model_fo_trading_trading"/>
        <field name="state">code</field>
        <field name="code">model._cron()</field>
        <field name="user_id" ref="base.user_root"/>
        <field name="interval_number">1</field>
        <field name="interval_type">minutes</field>
    </record>

    <record id="fo_trading_trading_view_form" model="ir.ui.view">
        <field name="name">fo_trading_trading_view_form</field>
        <field name="model">fo.trading.trading</field>
        <field name="arch" type="xml">
            <form string="fo_trading_trading_form">
                <header>
                    <button name="check_args" type="object" string="校验参数"/>
                    <button name="start" type="object" string="开始交易"/>
                    <button name="stop" type="object" string="立即停止"/>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <group>
                        <field name="name" readonly="1"/>
                        <field name="symbol_id"/>
                        <field name="exchange_id"/>
                        <field name="timeframe"/>
                        <field name="max_loss"/>
                        <field name="side"/>
                        <field name="entry_price"/>
                        <field name="buy_price" readonly="1"/>
                        <field name="stop_loss_price"/>
                        <field name="stop_win_price"/>
                        <field name="open_remark"/>
                        <field name="close_remark"/>
                        <field name="pnl" readonly="1"/>
                        <field name="pnl_fee" readonly="1"/>
                        <field name="pnl_rate"/>
                        <field name="is_has_position"/>
                        <field name="exchange_order_id" readonly="1"/>
                        <field name="error_msg" readonly="1"/>
                    </group>
                </sheet>
                <chatter/>

            </form>
        </field>
    </record>

    <record id="fo_trading_trading_view_tree" model="ir.ui.view">
        <field name="name">fo_trading_trading_view_tree</field>
        <field name="model">fo.trading.trading</field>
        <field name="arch" type="xml">
            <list string="fo_trading_trading_tree"
                  decoration-success="pnl_rate > 0"
                  decoration-danger="0 >= pnl_rate > -1"
                  decoration-muted="pnl_rate >= -1">

                <field name="name" readonly="1"/>
                <field name="state"/>
                <field name="symbol_id"/>
                <field name="timeframe"/>
                <field name="side"/>
                <field name="max_loss"/>
                <field name="pnl"/>
                <field name="pnl_rate"/>
            </list>
        </field>
    </record>

    <record id="fo_trading_trading_action" model="ir.actions.act_window">
        <field name="name">手动交易</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">fo.trading.trading</field>
        <field name="view_mode">list,form</field>
    </record>

    <!-- This Menu Item must have a parent and an action -->
    <menuitem id="fo_trading_menu_trading_action" name="手动交易"
              parent="fo_trading_menu_root" action="fo_trading_trading_action" sequence="1"/>

</odoo>